<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.3) on Tue Jul 09 00:06:29 BRT 2019 -->
<title>Fight</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-07-09">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Fight";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":9,"i13":10,"i14":10,"i15":10,"i16":9,"i17":10,"i18":6,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">javelin.controller.fight</a></div>
<h2 title="Class Fight" class="title">Class Fight</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>javelin.controller.fight.Fight</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../scenario/dungeonworld/DungeonWorldFight.html" title="class in javelin.controller.scenario.dungeonworld">DungeonWorldFight</a></code>, <code><a href="../event/EventCard.EventFight.html" title="class in javelin.controller.event">EventCard.EventFight</a></code>, <code><a href="ExhibitionFight.html" title="class in javelin.controller.fight">ExhibitionFight</a></code>, <code><a href="IncursionFight.html" title="class in javelin.controller.fight">IncursionFight</a></code>, <code><a href="minigame/Minigame.html" title="class in javelin.controller.fight.minigame">Minigame</a></code>, <code><a href="RandomEncounter.html" title="class in javelin.controller.fight">RandomEncounter</a></code>, <code><a href="Siege.html" title="class in javelin.controller.fight">Siege</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">Fight</span>
extends java.lang.Object</pre>
<div class="block">A battle scenario.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bribe">bribe</a></span></code></th>
<td class="colLast">
<div class="block"><code>true</code> if this fight is susceptible to <a href="../../model/unit/skill/Diplomacy.html" title="class in javelin.model.unit.skill"><code>Diplomacy</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#canflee">canflee</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#denydarkvision">denydarkvision</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#endless">endless</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#friendly">friendly</a></span></code></th>
<td class="colLast">
<div class="block">If <code>true</code> will remove opponents at first sign of blood instead
 of at negative hit points.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#friendlylevel">friendlylevel</a></span></code></th>
<td class="colLast">
<div class="block">Status to remove <a href="../../model/unit/Combatant.html" title="class in javelin.model.unit"><code>Combatant</code></a> from a <a href="#friendly"><code>friendly</code></a> battle.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hide">hide</a></span></code></th>
<td class="colLast">
<div class="block"><code>true</code> if there is a chance for the <a href="../../model/unit/Squad.html" title="class in javelin.model.unit"><code>Squad</code></a> to hide and
 avoid this combat.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../map/Map.html" title="class in javelin.controller.map">Map</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#map">map</a></span></code></th>
<td class="colLast">
<div class="block">Map this battle is to happen on or <code>null</code> for one to be
 generated according to current tile's terrain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#meld">meld</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Runnable&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onprepare">onprepare</a></span></code></th>
<td class="colLast">
<div class="block">Called after  and  team
 are set but before they are placed, allowing for temporary combatants to be
 included.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Runnable&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onready">onready</a></span></code></th>
<td class="colLast">
<div class="block">These callbacks are called at the last opportunity for changing this fight
 before actual battle begins.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../model/unit/Combatants.html" title="class in javelin.model.unit">Combatants</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#originalblueteam">originalblueteam</a></span></code></th>
<td class="colLast">
<div class="block">Blue team at the moment the <a href="Fight.html" title="class in javelin.controller.fight"><code>Fight</code></a> begins.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../model/unit/Combatants.html" title="class in javelin.model.unit">Combatants</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#originalredteam">originalredteam</a></span></code></th>
<td class="colLast">
<div class="block">Red team at the moment the <a href="Fight.html" title="class in javelin.controller.fight"><code>Fight</code></a> begins.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#period">period</a></span></code></th>
<td class="colLast">
<div class="block">Since <a href="../../model/unit/Squad.html#time"><code>Squad.time</code></a> is always ticking and needs to be updated even
 when fights do happen this by default holds the period at the moment of
 instantiation, so we can be more faithful to what appears on screen instead
 of the period after the <a href="../action/world/WorldMove.html" title="class in javelin.controller.action.world"><code>WorldMove</code></a> or similar has been completed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rewardgold">rewardgold</a></span></code></th>
<td class="colLast">
<div class="block">If <code>false</code> will not reward gold after victory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rewardreputation">rewardreputation</a></span></code></th>
<td class="colLast">
<div class="block">If <code>true</code> will reward reputation according to
 <a href="../challenge/Difficulty.html" title="class in javelin.controller.challenge"><code>Difficulty</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rewardxp">rewardxp</a></span></code></th>
<td class="colLast">
<div class="block">If <code>false</code> will not reward experience points after victory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="setup/BattleSetup.html" title="class in javelin.controller.fight.setup">BattleSetup</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setup">setup</a></span></code></th>
<td class="colLast">
<div class="block">Delegates some setup details.TODO</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../model/state/BattleState.html" title="class in javelin.model.state">BattleState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#state">state</a></span></code></th>
<td class="colLast">
<div class="block">Global fight state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#terrain">terrain</a></span></code></th>
<td class="colLast">
<div class="block">If not <code>null</code> will use this terrain when generating a map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.Boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#victory">victory</a></span></code></th>
<td class="colLast">
<div class="block">See <code>#win(BattleScreen)</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#weather">weather</a></span></code></th>
<td class="colLast">
<div class="block">If not <code>null</code> will override any other flooding level.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Fight</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../model/state/Meld.html" title="class in javelin.model.state">Meld</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addmeld(int,int,javelin.model.unit.Combatant,javelin.model.state.BattleState)">addmeld</a></span>&#8203;(int&nbsp;x,
       int&nbsp;y,
       <a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;dead,
       <a href="../../model/state/BattleState.html" title="class in javelin.model.state">BattleState</a>&nbsp;s)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#avoid(java.util.List)">avoid</a></span>&#8203;(java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;foes)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bribe()">bribe</a></span>()</code></th>
<td class="colLast">
<div class="block">Called in case of a successful bribe.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkend()">checkend</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkforenemies()">checkforenemies</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#die(javelin.model.unit.Combatant,javelin.model.state.BattleState)">die</a></span>&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;c,
   <a href="../../model/state/BattleState.html" title="class in javelin.model.state">BattleState</a>&nbsp;s)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#draw()">draw</a></span>()</code></th>
<td class="colLast">
<div class="block">Called after painting the <a href="../../view/screen/BattleScreen.html" title="class in javelin.view.screen"><code>BattleScreen</code></a> for the first time.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#endturn()">endturn</a></span>()</code></th>
<td class="colLast">
<div class="block">Called after a unit completes an <a href="../action/Action.html" title="class in javelin.controller.action"><code>Action</code></a>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enhance(java.util.List)">enhance</a></span>&#8203;(java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;foes)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enter(java.util.List,java.util.List,javelin.controller.Point)">enter</a></span>&#8203;(java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;entering,
     java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;team,
     <a href="../Point.html" title="class in javelin.controller">Point</a>&nbsp;entry)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#flood()">flood</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generate()">generate</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generate(int,java.util.ArrayList)">generate</a></span>&#8203;(int&nbsp;el,
        java.util.ArrayList&lt;<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a>&gt;&nbsp;terrains)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected float</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getaverageap(java.util.List)">getaverageap</a></span>&#8203;(java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;exclude)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../model/item/Item.html" title="class in javelin.model.item">Item</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getbag(javelin.model.unit.Combatant)">getbag</a></span>&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;combatant)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getblueteam()">getblueteam</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getdefaultterrains(javelin.controller.terrain.Terrain,int)">getdefaultterrains</a></span>&#8203;(<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a>&nbsp;t,
                  int&nbsp;floodlevel)</code></th>
<td class="colLast">
<div class="block">Default implementation of <code>#getterrains(Terrain)</code>.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getel(int)">getel</a></span>&#8203;(int&nbsp;teamel)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>abstract java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getfoes(java.lang.Integer)">getfoes</a></span>&#8203;(java.lang.Integer&nbsp;teamel)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getterrains()">getterrains</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#meld(javelin.model.unit.Combatant,javelin.model.state.Meld)">meld</a></span>&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;hero,
    <a href="../../model/state/Meld.html" title="class in javelin.model.state">Meld</a>&nbsp;m)</code></th>
<td class="colLast">
<div class="block">Called when an unit reaches <a href="../../model/state/Meld.html" title="class in javelin.model.state"><code>Meld</code></a>.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onend()">onend</a></span>()</code></th>
<td class="colLast">
<div class="block">Called when a battle ends but before <a href="../exception/battle/EndBattle.html" title="class in javelin.controller.exception.battle"><code>EndBattle</code></a> clean-ups.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ready()">ready</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reward()">reward</a></span>()</code></th>
<td class="colLast">
<div class="block">Only called on victory.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setup()">setup</a></span>()</code></th>
<td class="colLast">
<div class="block">Setups <a href="#state"><code>state</code></a> and <a href="../../model/state/BattleState.html#blueTeam"><code>BattleState.blueTeam</code></a>.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startturn(javelin.model.unit.Combatant)">startturn</a></span>&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;acting)</code></th>
<td class="colLast">
<div class="block">Called before a unit acts, human or computer.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#validate(java.util.ArrayList)">validate</a></span>&#8203;(java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;encounter)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#win()">win</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withdraw(javelin.model.unit.Combatant,javelin.view.screen.BattleScreen)">withdraw</a></span>&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;combatant,
        <a href="../../view/screen/BattleScreen.html" title="class in javelin.view.screen">BattleScreen</a>&nbsp;screen)</code></th>
<td class="colLast">
<div class="block">TODO probablby better to just have flee=true/false in Fight.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withdrawall(boolean)">withdrawall</a></span>&#8203;(boolean&nbsp;prompt)</code></th>
<td class="colLast">
<div class="block">Removes all <a href="../../model/unit/Combatant.html" title="class in javelin.model.unit"><code>Combatant</code></a>s from a <a href="Fight.html" title="class in javelin.controller.fight"><code>Fight</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="state">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>public static&nbsp;<a href="../../model/state/BattleState.html" title="class in javelin.model.state">BattleState</a> state</pre>
<div class="block">Global fight state.</div>
</li>
</ul>
<a id="victory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>victory</h4>
<pre>public static&nbsp;java.lang.Boolean victory</pre>
<div class="block">See <code>#win(BattleScreen)</code>.</div>
</li>
</ul>
<a id="meld">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>meld</h4>
<pre>public&nbsp;boolean meld</pre>
</li>
</ul>
<a id="map">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>map</h4>
<pre>public&nbsp;<a href="../map/Map.html" title="class in javelin.controller.map">Map</a> map</pre>
<div class="block">Map this battle is to happen on or <code>null</code> for one to be
 generated according to current tile's terrain.</div>
</li>
</ul>
<a id="friendly">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>friendly</h4>
<pre>public&nbsp;boolean friendly</pre>
<div class="block">If <code>true</code> will remove opponents at first sign of blood instead
 of at negative hit points.</div>
</li>
</ul>
<a id="rewardxp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewardxp</h4>
<pre>public&nbsp;boolean rewardxp</pre>
<div class="block">If <code>false</code> will not reward experience points after victory.</div>
</li>
</ul>
<a id="rewardgold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewardgold</h4>
<pre>public&nbsp;boolean rewardgold</pre>
<div class="block">If <code>false</code> will not reward gold after victory.</div>
</li>
</ul>
<a id="rewardreputation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewardreputation</h4>
<pre>public&nbsp;boolean rewardreputation</pre>
<div class="block">If <code>true</code> will reward reputation according to
 <a href="../challenge/Difficulty.html" title="class in javelin.controller.challenge"><code>Difficulty</code></a>.</div>
</li>
</ul>
<a id="hide">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hide</h4>
<pre>public&nbsp;boolean hide</pre>
<div class="block"><code>true</code> if there is a chance for the <a href="../../model/unit/Squad.html" title="class in javelin.model.unit"><code>Squad</code></a> to hide and
 avoid this combat. This doesn't make sense for <a href="Siege.html" title="class in javelin.controller.fight"><code>Siege</code></a>s for example
 since they are actually engaging the enemy.</div>
</li>
</ul>
<a id="bribe">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bribe</h4>
<pre>public&nbsp;boolean bribe</pre>
<div class="block"><code>true</code> if this fight is susceptible to <a href="../../model/unit/skill/Diplomacy.html" title="class in javelin.model.unit.skill"><code>Diplomacy</code></a>.</div>
</li>
</ul>
<a id="terrain">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terrain</h4>
<pre>public&nbsp;<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a> terrain</pre>
<div class="block">If not <code>null</code> will use this terrain when generating a map.</div>
</li>
</ul>
<a id="weather">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>weather</h4>
<pre>public&nbsp;java.lang.Integer weather</pre>
<div class="block">If not <code>null</code> will override any other flooding level.

 TODO should set from <a href="../Weather.html#current"><code>Weather.current</code></a> and then allow it to be
 overriden.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../Weather.html#current"><code>Weather.current</code></a>, 
<a href="../map/Map.html#maxflooding"><code>Map.maxflooding</code></a></dd>
</dl>
</li>
</ul>
<a id="period">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>period</h4>
<pre>public&nbsp;java.lang.String period</pre>
<div class="block">Since <a href="../../model/unit/Squad.html#time"><code>Squad.time</code></a> is always ticking and needs to be updated even
 when fights do happen this by default holds the period at the moment of
 instantiation, so we can be more faithful to what appears on screen instead
 of the period after the <a href="../action/world/WorldMove.html" title="class in javelin.controller.action.world"><code>WorldMove</code></a> or similar has been completed.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../Javelin.html#getperiod()"><code>Javelin.getperiod()</code></a></dd>
</dl>
</li>
</ul>
<a id="friendlylevel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>friendlylevel</h4>
<pre>public&nbsp;int friendlylevel</pre>
<div class="block">Status to remove <a href="../../model/unit/Combatant.html" title="class in javelin.model.unit"><code>Combatant</code></a> from a <a href="#friendly"><code>friendly</code></a> battle.</div>
</li>
</ul>
<a id="setup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>public&nbsp;<a href="setup/BattleSetup.html" title="class in javelin.controller.fight.setup">BattleSetup</a> setup</pre>
<div class="block">Delegates some setup details.TODO</div>
</li>
</ul>
<a id="denydarkvision">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>denydarkvision</h4>
<pre>public&nbsp;boolean denydarkvision</pre>
</li>
</ul>
<a id="canflee">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canflee</h4>
<pre>public&nbsp;boolean canflee</pre>
</li>
</ul>
<a id="endless">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endless</h4>
<pre>public&nbsp;boolean endless</pre>
</li>
</ul>
<a id="originalredteam">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>originalredteam</h4>
<pre>public static&nbsp;<a href="../../model/unit/Combatants.html" title="class in javelin.model.unit">Combatants</a> originalredteam</pre>
<div class="block">Red team at the moment the <a href="Fight.html" title="class in javelin.controller.fight"><code>Fight</code></a> begins.</div>
</li>
</ul>
<a id="originalblueteam">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>originalblueteam</h4>
<pre>public static&nbsp;<a href="../../model/unit/Combatants.html" title="class in javelin.model.unit">Combatants</a> originalblueteam</pre>
<div class="block">Blue team at the moment the <a href="Fight.html" title="class in javelin.controller.fight"><code>Fight</code></a> begins.</div>
</li>
</ul>
<a id="onready">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onready</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.Runnable&gt; onready</pre>
<div class="block">These callbacks are called at the last opportunity for changing this fight
 before actual battle begins. At this point the entire stack should be
 setup.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="setup/BattleSetup.html" title="class in javelin.controller.fight.setup"><code>BattleSetup</code></a></dd>
</dl>
</li>
</ul>
<a id="onprepare">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onprepare</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.Runnable&gt; onprepare</pre>
<div class="block">Called after  and  team
 are set but before they are placed, allowing for temporary combatants to be
 included.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Fight</h4>
<pre>public&nbsp;Fight()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getel(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getel</h4>
<pre class="methodSignature">public&nbsp;java.lang.Integer&nbsp;getel&#8203;(int&nbsp;teamel)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an encounter level for which an appropriate challenge should be
         generated. May return <code>null</code> if the subclass will
         generate its own foes manually.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../challenge/ChallengeCalculator.html" title="class in javelin.controller.challenge"><code>ChallengeCalculator</code></a></dd>
</dl>
</li>
</ul>
<a id="getfoes(java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getfoes</h4>
<pre class="methodSignature">public abstract&nbsp;java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;getfoes&#8203;(java.lang.Integer&nbsp;teamel)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>teamel</code> - usually comes from <a href="#getel(int)"><code>getel(int)</code></a>, and so might be
          <code>null</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of monsters that are going to be featured in this fight.
         If <code>null</code>, will then use
         <code>#getel(JavelinApp, int)</code>.</dd>
</dl>
</li>
</ul>
<a id="bribe()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bribe</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;bribe()</pre>
<div class="block">Called in case of a successful bribe.</div>
</li>
</ul>
<a id="reward()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reward</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;reward()</pre>
<div class="block">Only called on victory.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Reward description.</dd>
</dl>
</li>
</ul>
<a id="onend()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onend</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;onend()</pre>
<div class="block">Called when a battle ends but before <a href="../exception/battle/EndBattle.html" title="class in javelin.controller.exception.battle"><code>EndBattle</code></a> clean-ups.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>screen</code> - Currently open screen.</dd>
<dd><code>originalTeam</code> - Team state before the battle started.</dd>
<dd><code>s</code> - Final battle state.</dd>
<dd><code>combatresult</code> - Description of rewards and other remarks such as
          vehicle/allies left behind...</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>If <code>true</code> will perform a bunch of post-battle clean-ups,
         usually required only for typical <a href="../scenario/Scenario.html" title="class in javelin.controller.scenario"><code>Scenario</code></a> battles but not
         for <a href="minigame/Minigame.html" title="class in javelin.controller.fight.minigame"><code>Minigame</code></a>s.</dd>
</dl>
</li>
</ul>
<a id="checkend()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkend</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;checkend()</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>screen</code> - Active screen.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exception/battle/EndBattle.html" title="class in javelin.controller.exception.battle">EndBattle</a></code> - If this battle is over.</dd>
</dl>
</li>
</ul>
<a id="checkforenemies()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkforenemies</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkforenemies()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if there are any active enemies here.</dd>
</dl>
</li>
</ul>
<a id="avoid(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>avoid</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;avoid&#8203;(java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;foes)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>foes</code> - List of enemies.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this battle has been avoided.</dd>
</dl>
</li>
</ul>
<a id="enhance(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enhance</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;enhance&#8203;(java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;foes)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>foes</code> - Gives an opportunity to alter the generated enemies.</dd>
</dl>
</li>
</ul>
<a id="generate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generate</h4>
<pre class="methodSignature">public&nbsp;java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;generate()</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>el</code> - Target encounter level for the fight. Taken as a guideline
          because given <a href="../terrain/Terrain.html" title="class in javelin.controller.terrain"><code>Terrain</code></a> and such a fight cannot be generated
          for this exact level.</dd>
<dd><code>terrain</code> - Terrain this fight takes place on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The resulting opponents.</dd>
</dl>
</li>
</ul>
<a id="generate(int,java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generate</h4>
<pre class="methodSignature">public static&nbsp;java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;generate&#8203;(int&nbsp;el,
                                                      java.util.ArrayList&lt;<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a>&gt;&nbsp;terrains)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>el</code> - Encounter level.</dd>
<dd><code>terrains</code> - Possible <a href="../../model/unit/Monster.html" title="class in javelin.model.unit"><code>Monster</code></a> terrains.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A group of enemies that closely match the given EL, as far as
         possible.</dd>
</dl>
</li>
</ul>
<a id="validate(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;validate&#8203;(java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;encounter)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>false</code> if any of these <a href="../../model/unit/Combatant.html" title="class in javelin.model.unit"><code>Combatant</code></a>s are not
         supposed to be in this fight.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="TempleEncounter.html" title="class in javelin.controller.fight"><code>TempleEncounter</code></a></dd>
</dl>
</li>
</ul>
<a id="getterrains()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getterrains</h4>
<pre class="methodSignature">public&nbsp;java.util.ArrayList&lt;<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a>&gt;&nbsp;getterrains()</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>town</code> - Terrain hint. Usually <a href="../terrain/Terrain.html#current()"><code>Terrain.current()</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of <a href="../terrain/Terrain.html" title="class in javelin.controller.terrain"><code>Terrain</code></a>s which foes in this fight can inhabit.</dd>
</dl>
</li>
</ul>
<a id="getdefaultterrains(javelin.controller.terrain.Terrain,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getdefaultterrains</h4>
<pre class="methodSignature">public static&nbsp;java.util.ArrayList&lt;<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a>&gt;&nbsp;getdefaultterrains&#8203;(<a href="../terrain/Terrain.html" title="class in javelin.controller.terrain">Terrain</a>&nbsp;t,
                                                              int&nbsp;floodlevel)</pre>
<div class="block">Default implementation of <code>#getterrains(Terrain)</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - Will return this (alongside <a href="../terrain/Water.html" title="class in javelin.controller.terrain"><code>Water</code></a> if enough flood
          level)...</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>or <a href="../terrain/Underground.html" title="class in javelin.controller.terrain"><code>Underground</code></a> if there is inside a <a href="../../model/world/location/dungeon/Dungeon.html" title="class in javelin.model.world.location.dungeon"><code>Dungeon</code></a>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>Weather#flood(BattleMap, int)</code>, 
<a href="../map/Map.html#maxflooding"><code>Map.maxflooding</code></a>, 
<a href="../../model/world/location/dungeon/Dungeon.html#active"><code>Dungeon.active</code></a></dd>
</dl>
</li>
</ul>
<a id="win()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>win</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;win()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if battle has been won.</dd>
</dl>
</li>
</ul>
<a id="flood()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flood</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;flood()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="#weather"><code>weather</code></a> level for this fight, taking into account all
         factors.</dd>
</dl>
</li>
</ul>
<a id="getblueteam()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getblueteam</h4>
<pre class="methodSignature">public&nbsp;java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;getblueteam()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Team that the player will fight with.</dd>
</dl>
</li>
</ul>
<a id="getbag(javelin.model.unit.Combatant)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getbag</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="../../model/item/Item.html" title="class in javelin.model.item">Item</a>&gt;&nbsp;getbag&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;combatant)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Inventory for the given unit..</dd>
</dl>
</li>
</ul>
<a id="ready()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ready</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;ready()</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#onready"><code>onready</code></a></dd>
</dl>
</li>
</ul>
<a id="setup()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre class="methodSignature">public&nbsp;java.util.ArrayList&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;setup()</pre>
<div class="block">Setups <a href="#state"><code>state</code></a> and <a href="../../model/state/BattleState.html#blueTeam"><code>BattleState.blueTeam</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Opponent units.</dd>
</dl>
</li>
</ul>
<a id="endturn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endturn</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;endturn()</pre>
<div class="block">Called after a unit completes an <a href="../action/Action.html" title="class in javelin.controller.action"><code>Action</code></a>.</div>
</li>
</ul>
<a id="meld(javelin.model.unit.Combatant,javelin.model.state.Meld)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>meld</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;meld&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;hero,
                 <a href="../../model/state/Meld.html" title="class in javelin.model.state">Meld</a>&nbsp;m)</pre>
<div class="block">Called when an unit reaches <a href="../../model/state/Meld.html" title="class in javelin.model.state"><code>Meld</code></a>. Note that only human units use
 this, computer units use <a href="../../model/unit/Combatant.html#meld()"><code>Combatant.meld()</code></a> directly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hero</code> - Meld collector.</dd>
<dd><code>meld2</code> - </dd>
</dl>
</li>
</ul>
<a id="addmeld(int,int,javelin.model.unit.Combatant,javelin.model.state.BattleState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addmeld</h4>
<pre class="methodSignature">public&nbsp;<a href="../../model/state/Meld.html" title="class in javelin.model.state">Meld</a>&nbsp;addmeld&#8203;(int&nbsp;x,
                    int&nbsp;y,
                    <a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;dead,
                    <a href="../../model/state/BattleState.html" title="class in javelin.model.state">BattleState</a>&nbsp;s)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - Meld location.</dd>
<dd><code>y</code> - Meld location.</dd>
<dd><code>dead</code> - Unit that died, triggering <a href="../../model/state/Meld.html" title="class in javelin.model.state"><code>Meld</code></a> creation.</dd>
<dd><code>s</code> - Current battle state.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Created meld.</dd>
</dl>
</li>
</ul>
<a id="draw()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>draw</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;draw()</pre>
<div class="block">Called after painting the <a href="../../view/screen/BattleScreen.html" title="class in javelin.view.screen"><code>BattleScreen</code></a> for the first time.</div>
</li>
</ul>
<a id="withdraw(javelin.model.unit.Combatant,javelin.view.screen.BattleScreen)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withdraw</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;withdraw&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;combatant,
                     <a href="../../view/screen/BattleScreen.html" title="class in javelin.view.screen">BattleScreen</a>&nbsp;screen)</pre>
<div class="block">TODO probablby better to just have flee=true/false in Fight.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>combatant</code> - Fleeing unit.</dd>
<dd><code>screen</code> - Active screen.</dd>
</dl>
</li>
</ul>
<a id="withdrawall(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withdrawall</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;withdrawall&#8203;(boolean&nbsp;prompt)</pre>
<div class="block">Removes all <a href="../../model/unit/Combatant.html" title="class in javelin.model.unit"><code>Combatant</code></a>s from a <a href="Fight.html" title="class in javelin.controller.fight"><code>Fight</code></a>. Intended for
 debugging.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>prompt</code> - If <code>true</code>, will ask for user confirmation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exception/battle/EndBattle.html" title="class in javelin.controller.exception.battle">EndBattle</a></code></dd>
</dl>
</li>
</ul>
<a id="startturn(javelin.model.unit.Combatant)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startturn</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;startturn&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;acting)</pre>
<div class="block">Called before a unit acts, human or computer. Called from controller code,
 not from <a href="../ai/BattleAi.html" title="class in javelin.controller.ai"><code>BattleAi</code></a> routines.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>acting</code> - Creature to perform this turn (human or AI).</dd>
</dl>
</li>
</ul>
<a id="die(javelin.model.unit.Combatant,javelin.model.state.BattleState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>die</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;die&#8203;(<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&nbsp;c,
                <a href="../../model/state/BattleState.html" title="class in javelin.model.state">BattleState</a>&nbsp;s)</pre>
</li>
</ul>
<a id="getaverageap(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getaverageap</h4>
<pre class="methodSignature">protected&nbsp;float&nbsp;getaverageap&#8203;(java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;exclude)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exclude</code> - A list of Combatants to ignore, may be <code>null</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The average <a href="../../model/unit/Combatant.html#ap"><code>Combatant.ap</code></a> for all units in the fight.</dd>
</dl>
</li>
</ul>
<a id="enter(java.util.List,java.util.List,javelin.controller.Point)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>enter</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;enter&#8203;(java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;entering,
                  java.util.List&lt;<a href="../../model/unit/Combatant.html" title="class in javelin.model.unit">Combatant</a>&gt;&nbsp;team,
                  <a href="../Point.html" title="class in javelin.controller">Point</a>&nbsp;entry)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
